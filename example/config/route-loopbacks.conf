routes:

    # == Do not touch list ==
    
    - to: # volume meters
        node:
            - property: media.name
              values: [Peak detect]
      should_be_linked: null
    - from: # OBS
        node:
            - property: application.name
              values: [OBS, OBS-Monitor]
      should_be_linked: null
    - to: # OBS
        node:
            - property: application.name
              values: [OBS, OBS-Monitor]
      should_be_linked: null

    # == Main microphone ==

    # source -> loopback
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_3]
      to:
        node:
            - property: node.name
              values: [input.mic-main]
        port:
            - property: port.name
              values: [playback_FL]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_3]
      to:
        node:
            - property: node.name
              values: [input.mic-main]
        port:
            - property: port.name
              values: [playback_FR]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_3]
      should_be_linked: false

    # == DIY microphone ==

    # source -> loopback
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_4]
      to:
        node:
            - property: node.name
              values: [input.mic-diy]
        port:
            - property: port.name
              values: [playback_FL]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_4]
      to:
        node:
            - property: node.name
              values: [input.mic-diy]
        port:
            - property: port.name
              values: [playback_FR]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_4]
      should_be_linked: false

    # == Sound Effects (SFX) ==

    # source -> loopback
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_8]
      to:
        node:
            - property: node.name
              values: [input.sfx]
        port:
            - property: port.name
              values: [playback_FL]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_8]
      to:
        node:
            - property: node.name
              values: [input.sfx]
        port:
            - property: port.name
              values: [playback_FR]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: ['alsa_input.usb-R.*Caster_Duo_IT0008109-00.pro-input-1']
              op: REGEXP_MATCH
        port:
            - property: port.name
              values: [capture_8]
      should_be_linked: false

    # == Remote camera ==

    # source -> loopback
    - from:
        node:
            - property: media.name
              values: [streampanel-player-pixel/dji-osmo-pocket-3]
        port:
            - property: port.name
              values: [output_FL]
      to:
        node:
            - property: node.name
              values: [input.mic-remote]
        port:
            - property: port.name
              values: [playback_FL]
      should_be_linked: true
    - from:
        node:
            - property: media.name
              values: [streampanel-player-pixel/dji-osmo-pocket-3]
        port:
            - property: port.name
              values: [output_FR]
      to:
        node:
            - property: node.name
              values: [input.mic-remote]
        port:
            - property: port.name
              values: [playback_FR]
      should_be_linked: true
    - from:
        node:
            - property: media.name
              values: [streampanel-player-pixel/dji-osmo-pocket-3]
      should_be_linked: false
    # loopback -> sink
    - from:
        node:
            - property: node.name
              values: [output.mic-remote]
        port:
            - property: port.name
              values: [capture_FL]
      to:
        node:
            - property: node.name
              values: ['alsa_output.usb-R.*Caster_Duo_IT0008109-00.pro-output-0']
              op: REGEXP_MATCH
            - property: device.product.id
              values: [0x004e]
        port:
            - property: port.name
              values: [playback_AUX0]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: [output.mic-remote]
        port:
            - property: port.name
              values: [capture_FR]
      to:
        node:
            - property: node.name
              values: ['alsa_output.usb-R.*Caster_Duo_IT0008109-00.pro-output-0']
              op: REGEXP_MATCH
            - property: device.product.id
              values: [0x004e]
        port:
            - property: port.name
              values: [playback_AUX1]
      should_be_linked: true
    - from:
        node:
            - property: node.name
              values: [output.mic-remote]
      should_be_linked: false

      # == OBS monitoring ==

#    - from:
#        node:
#            - property: node.name
#              values: [output.monitor-obs]
#        port:
#            - property: port.name
#              values: [capture_FL]
#      to:
#        node:
#            - property: node.name
#              values: ['alsa_output.usb-R.*Caster_Duo_IT0008109-00.pro-output-1']
#              op: REGEXP_MATCH
#            - property: device.product.id
#              values: [0x004e]
#        port:
#            - property: port.name
#              values: [playback_AUX0]
#      should_be_linked: true
#    - from:
#        node:
#            - property: node.name
#              values: [output.monitor-obs]
#        port:
#            - property: port.name
#              values: [capture_FR]
#      to:
#        node:
#            - property: node.name
#              values: ['alsa_output.usb-R.*Caster_Duo_IT0008109-00.pro-output-1']
#              op: REGEXP_MATCH
#            - property: device.product.id
#              values: [0x004e]
#        port:
#            - property: port.name
#              values: [playback_AUX1]
#      should_be_linked: true

